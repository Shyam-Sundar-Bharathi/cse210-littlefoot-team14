<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="dist/littlefoot.css"/>
    <script src="dist/littlefoot.js" type="application/javascript"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <title>Document</title>
</head>
<body>
    <h1>Littlefoot.js Demo</h1>
    <article>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. In cursus turpis massa tincidunt dui. Tortor at auctor urna nunc id cursus metus. Neque ornare aenean euismod elementum nisi quis eleifend quam. 
          Consectetur adipiscing elit duis tristique. Sagittis vitae et leo duis ut diam. Morbi blandit cursus risus at ultrices. <sup id="fnref:1"><a href="#fn:1" class="footnote">[1]</a></sup> 
          Vulputate enim nulla aliquet porttitor lacus. Aliquam ultrices sagittis orci a scelerisque. Placerat in egestas erat imperdiet sed euismod nisi porta. In hac habitasse platea dictumst. Proin fermentum leo vel orci porta non pulvinar. <sup id="fnref:2"><a href="#fn:2" class="footnote">[2]</a></sup></p>
        <aside class="footnotes">
          <hr>
          <ol>
            <li id="fn:1">
              <p>
                This is footnote number 1. <button><i class="fa-solid fa-copy copy-footnote" footnote-id="fn:1"></i></button>
                <a href="#fnref:1" class="reversefootnote">&#160;&#8617;</a>
              </p>
            </li>
            <li id="fn:2">
              <p>
                This is footnote number 2. <button><i class="fa-solid fa-copy copy-footnote" footnote-id="fn:2"></i></button>
                <a href="#fnref:2" class="reversefootnote">&#160;&#8617;</a>
              </p>
            </li>
          </ol>
        </aside>
      </article>
      <script type="application/javascript">
        littlefoot.littlefoot({
            activateOnHover: true,
            hoverDelay: 200,
            allowMultiple: true
        }) // Pass any littlefoot settings here.
      </script>
      <script type="application/javascript">
        document.addEventListener('click', function (event) {
          if (event.target.classList.contains('copy-footnote')) {
            const footnoteId = event.target.getAttribute('footnote-id');
            console.log(footnoteId);
            if (footnoteId) {
              console.log(footnoteId);
              // Select the footnote element by its ID and extract its text content
              const footnoteContent = document.getElementById(footnoteId)?.innerText;
              if (footnoteContent) {
                // Use the Clipboard API to copy the footnote content
                navigator.clipboard.writeText(footnoteContent)
                    .then(() => {
                        // Provide user feedback, like a success message
                        console.log('Footnote content copied: ',footnoteContent);
                        alert('Footnote copied to clipboard!');
                    })
                    .catch((err) => {
                        console.error('Failed to copy text: ', err);
                    });
              } 
              else {
                console.error('Footnote content not found.');
              }
            }
          }
});
      </script>

</body>
</html>